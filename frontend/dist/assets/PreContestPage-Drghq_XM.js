import{f as x,r as l,u as b,j as e,M as c,h as j}from"./index-CivGSquN.js";import{a as C,p as I}from"./axiosContest-a7qLFL0E.js";const M="_skip_1lp2l_1",k="_blind_1lp2l_192",v="_ir_1lp2l_204",y="_background_1lp2l_253",D="_main_container_1lp2l_262",N="_sidebar_container_1lp2l_271",w="_collpased_1lp2l_277",P="_upper_container_1lp2l_280",E="_upper_bar_1lp2l_285",L="_profile_container_1lp2l_291",Y="_props_container_1lp2l_294",B="_collapsed_1lp2l_309",S="_sidebarMenu_1lp2l_313",F="_headerParent_1lp2l_326",O="_header_1lp2l_326",R="_logoimage_1lp2l_344",G="_logoContainerIcon_1lp2l_348",T="_sidebarMenuButton_1lp2l_354",X="_collapse_button_1lp2l_364",q="_topMenu_1lp2l_372",U="_verticalMenuList_1lp2l_381",W="_verticalMenuItem_1lp2l_387",$="_menuIcon_1lp2l_399",z="_label_1lp2l_404",A="_selected_1lp2l_430",H="_userinfoDark_1lp2l_445",J="_userinfoDark_container_1lp2l_459",K="_userinfo_1lp2l_445",Q="_rectangleParent_1lp2l_480",V="_userIcon_1lp2l_487",Z="_userinfoContainer_1lp2l_494",ee="_userName_1lp2l_501",te="_userEmail_1lp2l_505",ne="_userinfoButtonIcon_1lp2l_510",se="_userinfoDarkChild_1lp2l_519",oe="_userMenu_1lp2l_525",le="_expanded_1lp2l_540",ae="_settings_1lp2l_544",re="_settingsInner_1lp2l_553",ie="_settingsChild_1lp2l_554",ce="_icon_1lp2l_571",_e="_dashboard_1lp2l_577",de="_darkMode_1lp2l_589",pe="_switchIcon_1lp2l_597",ue="_logout_1lp2l_606",he="_logout_icon_1lp2l_621",ge="_pre_contest_page_1lp2l_625",me="_contest_rules_1lp2l_635",n={skip:M,blind:k,ir:v,background:y,main_container:D,sidebar_container:N,collpased:w,upper_container:P,upper_bar:E,profile_container:L,props_container:Y,collapsed:B,sidebarMenu:S,headerParent:F,header:O,logoimage:R,logoContainerIcon:G,sidebarMenuButton:T,collapse_button:X,topMenu:q,verticalMenuList:U,verticalMenuItem:W,menuIcon:$,label:z,selected:A,userinfoDark:H,userinfoDark_container:J,userinfo:K,rectangleParent:Q,userIcon:V,userinfoContainer:Z,userName:ee,userEmail:te,userinfoButtonIcon:ne,userinfoDarkChild:se,userMenu:oe,expanded:le,settings:ae,settingsInner:re,settingsChild:ie,icon:ce,dashboard:_e,darkMode:de,switchIcon:pe,logout:ue,logout_icon:he,pre_contest_page:ge,contest_rules:me},be=()=>{const{contestId:s}=x(),[a,h]=l.useState(null),[g,i]=l.useState(!1),[_,o]=l.useState(null),[m,d]=l.useState(!1),p=b();if(l.useEffect(()=>{(async()=>{if(!s){o("Contest ID is missing."),i(!1);return}try{i(!0);const r=await C(s);h(r.contest)}catch(r){console.error("Error fetching contest details:",r.message||r),o("Failed to fetch contest details.")}finally{i(!1)}})()},[s]),g)return e.jsx(c,{title:"Contest Detail",description:"Loading contest details.",children:e.jsx("div",{className:"contest-detail-page loading",children:e.jsx("p",{children:"Loading..."})})});if(_||!a)return e.jsx(c,{title:"Contest Detail",description:"Failed to load contest details.",children:e.jsx("div",{className:"contest-detail-page error",children:e.jsx("p",{className:"error-message",children:_||"Contest not found."})})});const f=async()=>{try{if(!s){o("Contest ID is missing.");return}const t=await I(s);t?p(`/contest/${s}/play`):o(t.msg)}catch(t){if(t.message==="FOUND"){d(!0);return}o(t.response.data.msg||"Failed to start contest."),console.error("Error starting contest:",t.message||t),o("Failed to start contest.")}},u=()=>{d(!1),p("/contest")};return e.jsxs(c,{title:"Pre Contest",description:"Pre Contest 화면입니다.",children:[e.jsxs("div",{className:n.pre_contest_page,children:[e.jsxs("div",{className:n.contest_name,children:[" You are about to play ",a.name]}),e.jsx("div",{className:n.contest_description,children:a.description}),e.jsxs("div",{className:n.contest_exp,children:[" Reward(EXP): ",a.contestExp]}),e.jsxs("div",{className:n.contest_rules,children:[e.jsx("p",{children:"Rules:"}),e.jsxs("ul",{children:[e.jsx("li",{children:"1. You can only play one machine at a time."}),e.jsx("li",{children:"2. You can get hints from the machine you are playing."}),e.jsx("li",{children:"3. You can submit flags to the machine you are playing."}),e.jsx("li",{children:"4. You have to play all the machines to win the contest."}),e.jsx("li",{children:"5. The reward reduces as the contest time goes."}),e.jsx("li",{children:"6. The contest will be ended when the time is up."}),e.jsx("li",{children:"7. You get your experience points (EXP) after completing the contest."}),e.jsx("li",{children:"8. Good luck!"})]})]}),e.jsx("div",{className:n.contest_warning,children:e.jsxs("p",{children:["Warning: Once you start the contest, the game will be recorded.",e.jsx("br",{}),"If you leave the contest, you will be disqualified."]})}),e.jsx("div",{className:n.contest_start,children:e.jsx("button",{onClick:f,children:"Start Contest"})})]}),e.jsx(j,{isOpen:m,onClose:u,children:e.jsxs("div",{className:"modal-body",children:[e.jsx("p",{children:"You have already completed this contest."}),e.jsx("button",{onClick:u,className:"modal-button",children:"Go to Contest"})]})})]})};export{be as default};
//# sourceMappingURL=PreContestPage-Drghq_XM.js.map
